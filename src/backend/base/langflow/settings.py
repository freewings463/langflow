"""模块名称：Langflow设置

本模块提供开发模式相关的设置和全局变量管理。
主要功能包括：
- 管理开发模式标志
- 提供全局DEV标志的访问和修改

设计背景：区分开发和生产环境的行为
注意事项：需要谨慎使用全局变量，确保线程安全
"""

import os

# 从环境变量获取开发模式标志，默认为False
DEV = os.getenv("LANGFLOW_DEV", "false").lower() == "true"


def _set_dev(value) -> None:
    """内部函数：设置开发模式标志
    
    注意：这是一个内部函数，修改全局变量DEV
    
    关键路径（三步）：
    1) 声明使用全局变量
    2) 更新全局DEV标志
    3) 完成设置
    
    异常流：无特殊异常处理
    性能瓶颈：无显著性能瓶颈
    排障入口：无特定日志关键字
    """
    global DEV  # noqa: PLW0603
    DEV = value


def set_dev(value) -> None:
    """设置开发模式标志
    
    决策：使用包装函数管理全局DEV变量
    问题：需要提供安全的全局变量修改方式
    方案：通过内部函数设置全局变量
    代价：增加了函数调用层级
    重评：当有更好的配置管理方案时需要重新评估
    
    关键路径（三步）：
    1) 调用内部设置函数
    2) 传递新值
    3) 完成设置
    
    异常流：无特殊异常处理
    性能瓶颈：无显著性能瓶颈
    排障入口：无特定日志关键字
    """
    _set_dev(value)